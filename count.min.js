(()=>{window.goatcounter&&window.goatcounter.vars?window.goatcounter=window.goatcounter.vars:window.goatcounter=window.goatcounter||{};var s=document.querySelector("script[data-goatcounter]");if(s&&s.dataset.goatcounterSettings){try{var set=JSON.parse(s.dataset.goatcounterSettings)}catch(err){console.error("invalid JSON in data-goatcounter-settings: "+err)}for(var k in set)-1<["no_onload","no_events","allow_local","allow_frame","path","title","referrer","event"].indexOf(k)&&(window.goatcounter[k]=set[k])}function get_data(vars){var d,rcb,pcb,tcb;return"function"==typeof(vars={p:(void 0===vars.path?goatcounter:vars).path,r:(void 0===vars.referrer?goatcounter:vars).referrer,t:(void 0===vars.title?goatcounter:vars).title,e:!(!vars.event&&!goatcounter.event),s:[window.screen.width,window.screen.height,window.devicePixelRatio||1],b:(vars=window,d=document,vars.callPhantom||vars._phantom||vars.phantom?150:vars.__nightmare?151:d.__selenium_unwrapped||d.__webdriver_evaluate||d.__driver_evaluate?152:navigator.webdriver?153:0),q:location.search}).r&&(rcb=vars.r),"function"==typeof vars.t&&(tcb=vars.t),"function"==typeof vars.p&&(pcb=vars.p),is_empty(vars.r)&&(vars.r=document.referrer),is_empty(vars.t)&&(vars.t=document.title),is_empty(vars.p)&&(vars.p=get_path()),rcb&&(vars.r=rcb(vars.r)),tcb&&(vars.t=tcb(vars.t)),pcb&&(vars.p=pcb(vars.p)),vars}function is_empty(v){return null==v||"function"==typeof v}function warn(msg){console&&"warn"in console&&console.warn("goatcounter: "+msg)}function get_endpoint(){var s=document.querySelector("script[data-goatcounter]");return s&&s.dataset.goatcounter?s.dataset.goatcounter:goatcounter.endpoint||window.counter}function get_path(){var a,loc=location,c=document.querySelector('link[rel="canonical"][href]');return(loc=c&&((a=document.createElement("a")).href=c.href,a.hostname.replace(/^www\./,"")===location.hostname.replace(/^www\./,""))?a:loc).pathname+loc.search||"/"}function on_load(f){null===document.body?document.addEventListener("DOMContentLoaded",function(){f()},!1):f()}var enc=encodeURIComponent;goatcounter.filter=function(){return"visibilityState"in document&&"prerender"===document.visibilityState?"visibilityState":goatcounter.allow_frame||location===parent.location?!goatcounter.allow_local&&location.hostname.match(/(localhost$|^127\.|^10\.|^172\.(1[6-9]|2[0-9]|3[0-1])\.|^192\.168\.|^0\.0\.0\.0$)/)?"localhost":goatcounter.allow_local||"file:"!==location.protocol?!(!localStorage||"t"!==localStorage.getItem("skipgc"))&&"disabled with #toggle-goatcounter":"localfile":"frame"},window.goatcounter.url=function(vars){var endpoint,vars=get_data(vars||{});if(null!==vars.p)return vars.rnd=Math.random().toString(36).substr(2,5),(endpoint=get_endpoint())?endpoint+(obj=>{var k,p=[];for(k in obj)""!==obj[k]&&null!=obj[k]&&!1!==obj[k]&&p.push(enc(k)+"="+enc(obj[k]));return"?"+p.join("&")})(vars):warn("no endpoint found")},window.goatcounter.count=function(vars){var img,f=goatcounter.filter();return f?warn("not counting because of: "+f):(f=goatcounter.url(vars))?void(navigator.sendBeacon(f)||((img=document.createElement("img")).src=f,img.style.position="absolute",img.style.bottom="0px",img.style.width="1px",img.style.height="1px",img.loading="eager",img.setAttribute("alt",""),img.setAttribute("aria-hidden","true"),img.addEventListener("load",function(){img&&img.parentNode&&img.parentNode.removeChild(img)},!1),document.body.appendChild(img))):warn("not counting because path callback returned null")},window.goatcounter.get_query=function(name){for(var s=location.search.substr(1).split("&"),i=0;i<s.length;i++)if(0===s[i].toLowerCase().indexOf(name.toLowerCase()+"="))return s[i].substr(name.length+1)},window.goatcounter.bind_events=function(){document.querySelectorAll&&Array.prototype.slice.call(document.querySelectorAll("*[data-goatcounter-click]")).forEach(function(elem){var f;elem.dataset.goatcounterBound||(f=(elem=>function(){goatcounter.count({event:!0,path:elem.dataset.goatcounterClick||elem.name||elem.id||"",title:elem.dataset.goatcounterTitle||elem.title||(elem.innerHTML||"").substr(0,200)||"",referrer:elem.dataset.goatcounterReferrer||elem.dataset.goatcounterReferral||""})})(elem),elem.addEventListener("click",f,!1),elem.addEventListener("auxclick",f,!1),elem.dataset.goatcounterBound="true")})},window.goatcounter.visit_count=function(opt){on_load(function(){(opt=opt||{}).type=opt.type||"html",opt.append=opt.append||"body",opt.path=opt.path||get_path(),opt.attr=opt.attr||{width:"200",height:opt.no_branding?"60":"80"},opt.attr.src=get_endpoint()+"er/"+enc(opt.path)+"."+enc(opt.type)+"?",opt.no_branding&&(opt.attr.src+="&no_branding=1"),opt.style&&(opt.attr.src+="&style="+enc(opt.style)),opt.start&&(opt.attr.src+="&start="+enc(opt.start)),opt.end&&(opt.attr.src+="&end="+enc(opt.end));var tag={png:"img",svg:"img",html:"iframe"}[opt.type];if(!tag)return warn("visit_count: unknown type: "+opt.type);"html"===opt.type&&(opt.attr.frameborder="0",opt.attr.scrolling="no");var k,d=document.createElement(tag);for(k in opt.attr)d.setAttribute(k,opt.attr[k]);tag=document.querySelector(opt.append);if(!tag)return warn("visit_count: append not found: "+opt.append);tag.appendChild(d)})},"#toggle-goatcounter"===location.hash&&("t"===localStorage.getItem("skipgc")?(localStorage.removeItem("skipgc","t"),alert("GoatCounter tracking is now ENABLED in this browser.")):(localStorage.setItem("skipgc","t"),alert("GoatCounter tracking is now DISABLED in this browser until "+location+" is loaded again."))),goatcounter.no_onload||on_load(function(){var f;"visibilityState"in document&&"visible"!==document.visibilityState?(f=function(e){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",f),goatcounter.count())},document.addEventListener("visibilitychange",f)):goatcounter.count(),goatcounter.no_events||goatcounter.bind_events()})})();
